<h1 class="welcome-message">Welcome {{ userService.getUser()?.name }},</h1>

<h2>Your Tasks</h2>

@if (tasks().length > 0) {
	<div class="table-responsive">
		<table mat-table [dataSource]="tasks()">

			<ng-container matColumnDef="title">
				<th mat-header-cell *matHeaderCellDef> Title </th>
				<td mat-cell *matCellDef="let element"> {{element.title}} </td>
			</ng-container>

			<ng-container matColumnDef="description">
				<th mat-header-cell *matHeaderCellDef> Description </th>
				<td mat-cell *matCellDef="let element"> {{element.description}} </td>
			</ng-container>

			<ng-container matColumnDef="completed">
				<th mat-header-cell *matHeaderCellDef> Completed </th>
				<td mat-cell *matCellDef="let element">
					<mat-checkbox
						[checked]="element.completed"
						[disabled]="true"
					></mat-checkbox>
				</td>
			</ng-container>

			<ng-container matColumnDef="actions">
				<th mat-header-cell *matHeaderCellDef> Actions </th>
				<td mat-cell *matCellDef="let element">
					<div class="action-btn-container">
						<button
							color="primary"
							mat-mini-fab
							matTooltip="Edit"
							(click)="editTask(element)"
						>
							<mat-icon>edit</mat-icon>
						</button>

						<button
							color="warn"
							mat-mini-fab
							matTooltip="Delete"
							(click)="deleteTask(element)"
						>
							<mat-icon>delete</mat-icon>
						</button>
					</div>
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
		</table>
	</div>
} @else {
	<div class="no-tasks">
		<p>You have no tasks</p>

		<button
			mat-flat-button
			color="primary"
			(click)="addTask()"
		>
			Add Task
		</button>
	</div>
}

@if (tasks().length > 0) {
	<div class="btn-container">
		<button
			mat-flat-button
			color="primary"
			(click)="addTask()"
		>
			Add Task
		</button>
	</div>
}
